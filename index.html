<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Twitter v1.1 API - A JavaScript and PHP solution</title>
		<script src='https://code.responsivevoice.org/responsivevoice.js'></script>
		<link rel="stylesheet" href="https://npmcdn.com/flickity@1.2/dist/flickity.min.css">
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
		<div class="carousel">
		  <div class="carousel-cell"><h1>This is the first</h1></div>
		  <div class="carousel-cell"><h1>This is the second</h1></div>
		  <div class="carousel-cell"><h1>Third</h1></div>
		  <div class="carousel-cell"><h1>Fourth</h1></div>
		  <div class="carousel-cell"><h1>And so on.</h1></div>
		</div>
		<script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
		<script src="https://npmcdn.com/flickity@1.2/dist/flickity.pkgd.min.js"></script>

		<script type="text/javascript">
 			responsiveVoice.OnVoiceReady = function() {

 					$('.carousel').flickity({
					  // options
					  cellAlign: 'left',
					  contain: true,
					  prevNextButtons: false,
					  pageDots: false,
					});

					function voiceStartCallback() {
					    console.log("Voice started");
					}
					 
					function voiceEndCallback() {
					    console.log("Voice ended");
					    $('.carousel').flickity('next');
					}
					 
					var parameters = {
					    //onstart: voiceStartCallback,
					    onend: voiceEndCallback
					}

 					var str = "";
 	
					$('.carousel-cell').each(function(index) { 
						str = $(this).text();
						console.log(str);
					  	responsiveVoice.speak(str, "UK English Female", parameters);

					});

				};

		</script>
	</body>
</html>