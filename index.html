<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Facebook Feed</title>
		<script src='https://code.responsivevoice.org/responsivevoice.js'></script>
		<link rel="stylesheet" href="https://npmcdn.com/flickity@1.2/dist/flickity.min.css">
		<link rel="stylesheet" href="style.css">
	</head>
	<body>
	<input onclick='responsiveVoice.speak("Hello World");' type='button' value='游댉 Play' />
		<div class="carousel">
		  <div class="carousel-cell cellid-0" style="background-image: url('/img/car.jpg')">
		  	<h1>Robin s칛ger. Hittade den h칛r gamla bilden p친 min gamla bil idag. Minns ni hur mycket det l칛t n칛r man k칬rde? Helt otroligt att man orkade med att 친ka l친ngt.</h1>
		  </div>
		  <div class="carousel-cell cellid-1" style="background-image: url('/img/cooking.jpg')">
		  	<h1>Jessica s칛ger. Kom 칛ntligen iv칛g p친 den d칛r matlagningskursen som jag fick i julklapp! N칛r jag kommer h칛rifr친n kanske jag 칛ntligen l칛rt mig g칬ra goda hamburgare. Rekommenderar verkligen den h칛r kursen till alla som har ett intresse f칬r matlagning.</h1>
		  </div>
		  <div class="carousel-cell cellid-2" style="background-image: url('/img/kids.jpg')">
		  	<h1>Kerstin s칛ger. Idag firar Maja 4 친r! Grattis Maja!</h1>
		  </div>
		  <div class="carousel-cell cellid-3" style="background-image: url('/img/wedding.jpg')">
		  	<h1>Tobias s칛ger. H칛r kommer v친r favoritbild fr친n v친rt br칬llop! Tusen tack f칬r uppvaktningen. Hoppas vi ses snart igen. M친nga pussar och kramar!</h1>
		  </div>
		   <div class="carousel-cell cellid-4" style="background-image: url('/img/walking.jpg')">
		  	<h1>Roger s칛ger. H칛r promenerar vi runt p친 kinnekulle. Kv칛llen avslutas som vanligt med en snaps, god mat och trevlig historier. Att tr칛ffas 칬ver en promenad 칛r aldrig fel.</h1>
		  </div>
		  <div class="carousel-cell cellid-5" style="background-image: url('/img/vacation.jpg')">
		  	<h1>Johnny s칛ger. S친h칛r ser det ut hos oss p친 Mallorca. Sk칬nt att komma bort fr친n jobb och stress ett tag fram칬ver. Lollo har badat hela dagarna. Jag har mestadels legat p친 stranden och druckit goda drinkar. Ses snart Sverige!</h1>
		  </div>
		  <div class="carousel-cell cellid-6" style="background-image: url('/img/mushroom.jpg')">
		  	<h1>Kerstin s칛ger. Hittade precis den h칛r guldgruvan! Fr친ga inte vart det 칛r f칬r jag kommer aldrig att ber칛tta. Jag vet i alla fall vad som tillagas ikv칛ll!</h1>
		  </div>
		  <div class="carousel-cell cellid-7" style="background-image: url('/img/blueberries.jpeg')">
		  	<h1>Carina s칛ger. Titta vilken fin bild jag lyckades ta p친 bl친b칛ren vi hittade ig친r! Jag 칛r s친 n칬jd med nya kameran.</h1>
		  </div>
		</div>
		<script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
		<script src="https://npmcdn.com/flickity@1.2/dist/flickity.pkgd.min.js"></script>

		<script type="text/javascript">
 			responsiveVoice.OnVoiceReady = function() {

 					responsiveVoice.setDefaultVoice("Swedish Female");
 					var $carousel = $('.carousel').flickity({
					  cellAlign: 'left',
					  contain: true,
					  prevNextButtons: false,
					  pageDots: false,
					  wrapAround: true,
					});

					var voicelist = responsiveVoice.getVoices();

					var flkty = $carousel.data('flickity');

					function voiceStartCallback() {
					    console.log("Voice started");
					}
					 
					function voiceEndCallback() {
					    console.log("Voice ended");
					    $('.carousel').flickity('next');
					}
					 
					var parameters = {
					    onstart: voiceStartCallback,
					    onend: voiceEndCallback
					}

					responsiveVoice.speak($('.cellid-0').text(), "Swedish Female", parameters)

					$carousel.on( 'cellSelect', function() {
					  console.log( $('.cellid-'+ flkty.selectedIndex).text() );
					  var str = $('.cellid-'+ flkty.selectedIndex).text();
					  responsiveVoice.speak(str, "Swedish Female", parameters, {rate: 0})
					})

 					var str = "";


				};

		</script>
	</body>
</html>